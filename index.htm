<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>比特闪微付 BtcLv.com 比特绿</title><meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.2">
<link href="favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon" />
<script src="https://lib.sinaapp.com/js/jquery/2.2.4/jquery-2.2.4.min.js"></script>
<style>
body{
margin:auto;
width:93%;
max-width:960px;
min-width:487px;
padding:10px;
	FONT-FAMILY: Microsoft YaHei, Helvetica, Tahoma;  PADDING-TOP: 0px;
}
A:visited {
	COLOR: #006600; TEXT-DECORATION: none
}
A:active {
	COLOR: #006600; TEXT-DECORATION: none
}
A:link {
	COLOR:#002800; TEXT-DECORATION: none
}
A:hover {
	COLOR: #ff6600; text-deroration: none;
}
.hang{
vertical-align:center;
padding-top:10px;
min-height:36px;
}
.hang:hover {
	background-color:#ccffcc;
}
.v1{
display:inline-block;
text-align:center;
width:5%;
overflow:hidden;
}
.v2{
display:inline-block;
width:25%;
overflow:hidden;
}
.v3{
display:inline-block;
width:11%;
min-width:126px;
text-align:right;
padding-right:10px;
}
.v4{
display:inline-block;
width:16%;
min-width:100px;
text-align:center;
}
.v5{
display:inline-block;
}
</style>
<base target="_blank" />
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c65dd7d15ecfb3a23baf04543045f8b8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</head>
<body>
<h1><img src="favicon.png" width="40" style="width:40px;" />比特闪微付服务 BtcLv.com<span style="float:right;font-size:23px">🇨🇳</span></h1>
<div>
<h3>说明：定时闪电网络微聪付，过了指定闪电微付日期或提前提交正确放行密令下可向LN地址打赏。</h3>
<h4>&nbsp;&nbsp;可用作购物等三方，1）买方提交卖方LN地址并Zap给平台，2）卖方看到已生效再发货，3）买方确认收到后再将放行密令给卖方或等待自动放行，出问题请<a href="https://iris.to/cndx@ahr999.com" target="_blank">私聊</a>联系。</h4>
</div>
<div>
<form action="https://8nostr.com/btclv.com/add/" target="_blank" method="post">
接收LN地址：<input type="email" id="eds" name="l" value="" placeholder="cndx@btclv.com">   
聪量：<input type="number" name="s" value="" placeholder="0" style="width:85px;">SATs   
推迟闪微日期：<input type="date" id="ed" name="d" value=""> 
提前放行密令：<input type="text" id="psd" name="psd" value="" style="width:85px;" placeholder="可空为不放行"> 
<script>
var dt=new Date();
dt=dt.setDate(dt.getDate()+7);
dt=new Date(dt);
var m=dt.getMonth()+1;
if(m<10)m="0"+m;
var d=dt.getDate();
if(d<10)d="0"+d;
document.getElementById("ed").value=dt.getFullYear()+"-"+m+"-"+d;
</script>
<input type="submit" value="确定" />
</form>
</div>

<h3>列表清单</h3>
<div id="huilv">
</div><input type="number" id="sz" name="sz" value="190000" style="width:85px;" onchange="newlist();" placeholder="">
<div id="menus" style="padding-top:30px;">
<div class="v1">ID</div>
<div class="v2">接收LN地址</div>
<div class="v3">聪SAT量值&nbsp;&nbsp;</div>
<div class="v4">闪微日期&nbsp;&nbsp;&nbsp;&nbsp;</div>
<div class="v5">状态及放行密令</div>
 </div>
<div id="lists">
<div class="hang"><form action="https://8nostr.com/btclv.com/pass/" target="_blank" method="post">
<div class="v1">1<input type="hidden" name="id" value="1" ></div>
<div class="v2">cnd@btclv.com</div>
<div class="v3">8 (≈0.01)</div>
<div class="v4">2023-03-23</div>
<div class="v5"><a href="https://getalby.com/p/cndx" target="_blank">待⚡</a><a href="lightning:cndx@btclv.com" target="_self">生效</a><input type="text" name="psd" value="" style="width:55px;" placeholder=""> <input type="submit" value="放行" /></div>
</form></div>

</div>
<br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br />
<hr />2023 @ BtcLv.com
<script>
$.getJSON( "https://btayx.com/txbtc.com/api/?callback=?", function( response ) {
usdcny=1/response.cny.usd.other.last;
jgx=response.btc.usd.bitfinex.last*1;
jg=response.btc.usd.bitstamp.last*1;
jgk=response.btc.usd.kraken.last*1;
jg=(0+jg+jgk+jgx)/3;
doge=response.xdg.btc.kraken.last*100000000;
document.getElementById("huilv").innerHTML="汇率：U = <b>"+(100000000/jg).toFixed(0)+"</b> SAT&nbsp; / "+usdcny.toFixed(3)+"= <b>"+(100000000/jg/usdcny).toFixed(0)+"</b> SAT &nbsp;&nbsp; BTC "+jg.toFixed(0)+"  &nbsp;&nbsp; Doge "+((jg/100000000)*doge).toFixed(4)+"= <b>"+doge+"</b> SAT";
document.getElementById("sz").value=Math.round(jg*usdcny);
newlist();
});
var flag=1;
function newlist(){
sz=document.getElementById("sz").value/100000000;
if(flag==1){
flag=0;
$.getJSON( "https://8nostr.com/btclv.com/api/?callback=?", function( zaps ) {
var strs="";
for(var i=0;i<zaps.length;i++){
strs=strs+'<div class="hang"><form action="https://8nostr.com/btclv.com/pass/" target="_blank" method="post">';
strs=strs+'<div class="v1"><b>'+zaps[i].id+'</b><input type="hidden" name="id" value="'+zaps[i].id+'" ></div>';
strs=strs+'<div class="v2"><a href="lightning:'+zaps[i].ln+'" target="_self">'+zaps[i].ln+'</a></div>';
strs=strs+'<div class="v3"><b>'+zaps[i].satoshi+'</b>(≈'+(sz*zaps[i].satoshi).toFixed(2)+')</div>';
strs=strs+'<div class="v4" title="创建时间:'+zaps[i].addate+'\n更新时间:'+zaps[i].newtime+'">'+zaps[i].sentday+'</div>';
var states=zaps[i].state;
var stastr='<input type="text" name="psd" value="" style="width:55px;" placeholder=""> <input type="submit" value="放行" />';
if(states=="n")stastr='<a href="https://getalby.com/p/cndx" target="_blank">➊.<b>待⚡</b></a><a href="lightning:cndx@btclv.com" target="_self">后生效...</a>'+stastr;
if(states=="y")stastr='❷.已生效等放行'+stastr;
if(states=="p")stastr='❸.已放行，等待⚡Zap微付...';
//n new  y yeswaite [->( p psd-conform )-> z zipedshow -> c close ] [ x not-bulid  -> d del]
if(states=="z"||states=="c")stastr='√.已经⚡Zap微付，任务结束';
if(states=="x")stastr='×.<del>长期未转入⚡未激活已失效</del>';
strs=strs+'<div class="v5">'+stastr+'</div>';
strs=strs+'</form></div>';
}
document.getElementById("lists").innerHTML=strs;
flag=1;
});
}}
newlist();
r=100;g=160;b=100;
r1=r+Math.floor(Math.random()*(255-r));
g1=g+Math.floor(Math.random()*(255-g));
b1=b+Math.floor(Math.random()*(255-b));
r2=r+Math.floor(Math.random()*(255-r));
g2=g+Math.floor(Math.random()*(255-g));
b2=b+Math.floor(Math.random()*(255-b));
r3=r+Math.floor(Math.random()*(255-r));
g3=g+Math.floor(Math.random()*(255-g));
b3=b+Math.floor(Math.random()*(255-b));
background="white linear-gradient(120deg,rgb("+r1+", "+g1+", "+b1+"),rgb("+r2+", "+g2+", "+b2+"),rgb("+r3+","+g2+", "+b3+"))";
document.body.style.background=background;
</script>
</body>
</html>
